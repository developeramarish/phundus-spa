<view-title>Beitrittsanfragen</view-title>
<table class="table table-hover" data-st-table="displayedCollection" data-st-safe-src="rowCollection">
  <thead>
  <tr>
    <th colspan="7">
      <input data-st-search class="form-control" type="search" placeholder="Suchen..."/>
    </th>
  </tr>
  <tr>
  <tr>
    <th data-st-sort="requestedAtUtc">Datum</th>
    <th data-st-sort="firstName">Vorname</th>
    <th data-st-sort="lastName">Nachname</th>
    <th data-st-sort="emailAddress">E-Mail-Adresse</th>
    <th data-st-sort="customMemberNumber">Nummer</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr data-ng-repeat="row in displayedCollection">
    <td><ph-date value="row.requestedAtUtc"></ph-date></td>
    <td>{{row.firstName}}</td>
    <td>{{row.lastName}}</td>
    <td>{{row.emailAddress}}</td>
    <td>{{row.customMemberNumber}}</td>
    <td class="text-right">
      <button type="button" class="btn btn-success btn-sm" data-ng-disabled="row.isApproving || row.isRejecting"
         data-mwl-confirm data-on-confirm="approve(row)" data-title="Bestätigung"
         data-message="Möchtest du <strong>{{row.firstName}} {{row.lastName}}</strong> wirklich bestätigen?"
         data-confirm-text="Ja" data-cancel-text="Nein"><span class="glyphicon glyphicon-refresh glyphicon-spin" data-ng-show="row.isApproving"></span> Bestätigen</button>

      <button type="button" class="btn btn-default btn-sm" data-ng-disabled="row.isApproving || row.isRejecting"
              data-mwl-confirm data-on-confirm="reject(row)" data-title="Bestätigung"
              data-message="Möchtest du <strong>{{row.firstName}} {{row.lastName}}</strong> wirklich ablehnen?"
              data-confirm-text="Ja" data-cancel-text="Nein"><span class="glyphicon glyphicon-refresh glyphicon-spin" data-ng-show="row.isRejecting"></span> Ablehnen</button>
    </td>
  </tr>
  </tbody>
</table>

<div class="alert alert-info" data-ng-show="rowCollection.length == 0">
  <strong>Nichts gefunden!</strong>
  Es sind keine Beitrittsanfragen vorhanden.
</div>

<div class="alert alert-info" data-ng-show="displayedCollection.length == 0 && rowCollection.length > 0">
  <strong>Nichts gefunden!</strong>
  Deine Suche liefert keine Ergebnisse.
</div>
